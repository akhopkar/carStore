{"version":3,"file":"js-data-localstorage.min.js","sources":["js-data-localstorage.js"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_1__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequire","obj","__esModule","_createClass","defineProperties","target","props","key","prop","configurable","value","writable","Object","Constructor","protoProps","staticProps","prototype","_classCallCheck","instance","TypeError","JSData","emptyStore","DS","DSUtils","makePath","deepMixIn","toJson","fromJson","forEach","removeCircular","filter","defaults","defaultFilter","omit","guid","keys","P","Promise","Defaults","basePath","DSLocalStorageAdapter","options","getPath","resourceConfig","name","getIdPath","getEndpoint","getIds","ids","undefined","idsPath","idsJson","localStorage","getItem","setItem","saveKeys","ensureId","removeId","GET","resolve","item","PUT","then","DEL","removeItem","find","reject","Error","findAll","params","_this","allowSimpleWhere","items","itemJson","push","create","attrs","idAttribute","relationFields","update","updateAll","tasks","all","destroy","destroyAll","arguments","slice","out","property","hasOwnProperty","contains","forOwn","val","randHex","choice","size","str","_chars","split","length","isArray","randInt","arr","start","end","len","Math","max","min","result","indexOf","fn","thisObj","forIn","hasOwn","MIN_INT","MAX_INT","round","rand","isKind","Array","fromIndex","i","checkDontEnum","_dontEnums","_hasDontEnumBug","toString","exec","ctor","constructor","isProto","random","kind","kindOf","get","UNDEF","_rKind","_toString"],"mappings":"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"}